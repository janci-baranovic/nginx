import{m as k,u as C,_ as g,o as i,c as n,a as s,f as r,v as h,t as c,g as _,F as f,l as y,q as T,b as p,r as V}from"./index-fbd946e6.js";const w={props:["test","errors"],data(){return{testTitle:"",questions:[{text:"",type:"text",answer:"",choices:[]}]}},computed:{...k(C,{user:"authUser"})},watch:{test(l){this.testTitle=l.title,this.questions=l.questions}},methods:{addQuestion(){this.questions.push({text:"",type:"text",answer:"",choices:[]}),console.log(this.user)},updateQuestionType(l){const e=this.questions[l];e.type==="multipleChoices"&&!e.choices?e.choices=[{text:""}]:e.type!=="multipleChoices"&&e.choices&&(e.choices=[])},removeQuestion(){this.questions.pop()},addChoice(l){l.choices.push({text:""})},removeChoice(l){l.choices.pop()},saveTest(){this.$emit("test-form-submitted",{title:this.testTitle,questions:this.questions})}}},U={class:"box px-6"},Q={class:"field"},z=s("label",{class:"label"},"Názov testu",-1),S={class:"control"},q={key:0,class:"help has-text-danger"},N={class:"title is-4 mt-6"},B={class:"columns"},D={class:"column is-2"},F=s("label",{class:"label"},"Typ otázky",-1),O={class:"select"},j=["onUpdate:modelValue","onChange"],M=s("option",{value:"text"},"Text",-1),P=s("option",{value:"multipleChoices"},"Viac možností",-1),A=[M,P],E={class:"column"},L={class:"field"},Z={class:"control"},G=s("label",{class:"label"},"Text otázky",-1),H=["onUpdate:modelValue"],I={key:0,class:"help has-text-danger"},J={class:"field"},K={class:"control"},R=s("label",{class:"label"},"Správna odpoveď",-1),W=["onUpdate:modelValue"],X={key:0,class:"help has-text-danger"},Y={key:1,class:"help has-text-danger"},$={key:2,class:"help has-text-danger"},ss={class:"is-flex is-align-items-center my-2"},ts={class:"mr-2"},es=["onUpdate:modelValue"],os=["onClick"],is={class:"icon"},ns=s("span",null,"Pridať možnosť",-1),ls=["onClick"],as={class:"icon"},cs=s("span",null,"Odobrať možnosť",-1),ds={class:"field is-grouped is-flex is-justify-content-space-between mt-6"},rs={class:"icon"},us=s("span",null,"Pridať otázku",-1),hs={class:"icon"},_s=s("span",null,"Odobrať otázku",-1),ps=s("strong",null,"Uložiť test",-1),ms=[ps];function vs(l,e,d,fs,m,a){const u=V("font-awesome-icon");return i(),n("div",U,[s("div",Q,[z,s("div",S,[r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>m.testTitle=t),class:"input",type:"text",placeholder:"napr. Základy nástroja Docker"},null,512),[[h,m.testTitle]])]),d.errors.title?(i(),n("p",q,c(this.errors.title[0]),1)):_("",!0)]),(i(!0),n(f,null,y(m.questions,(t,v)=>(i(),n("section",{key:v},[s("h2",N,"Otázka "+c(v+1),1),s("div",B,[s("div",D,[F,s("div",O,[r(s("select",{"onUpdate:modelValue":o=>t.type=o,onChange:o=>a.updateQuestionType(v)},A,40,j),[[T,t.type]])])]),s("div",E,[s("div",L,[s("div",Z,[G,r(s("input",{"onUpdate:modelValue":o=>t.text=o,class:"input",type:"text"},null,8,H),[[h,t.text]])]),d.errors.text?(i(),n("p",I,c(this.errors.text[0]),1)):_("",!0)])])]),s("div",J,[s("div",K,[R,r(s("input",{"onUpdate:modelValue":o=>t.answer=o,class:"input",type:"text"},null,8,W),[[h,t.answer]])]),d.errors.questions?(i(),n("p",X,c(this.errors.questions[0]),1)):d.errors.answer?(i(),n("p",Y,c(this.errors.answer[0]),1)):d.errors.choices?(i(),n("p",$,c(this.errors.choices[0]),1)):_("",!0)]),t.type==="multipleChoices"?(i(),n(f,{key:0},[s("ul",null,[(i(!0),n(f,null,y(t.choices,(o,x)=>(i(),n("li",{key:x},[s("div",ss,[s("p",ts,c(x+1)+".",1),r(s("input",{"onUpdate:modelValue":b=>o.text=b,class:"input is-small"},null,8,es),[[h,o.text]])])]))),128))]),s("button",{class:"button is-info is-small mt-4 mr-2",onClick:o=>a.addChoice(t)},[s("span",is,[p(u,{icon:"fa-solid fa-plus"})]),ns],8,os),s("button",{class:"button is-danger is-small is-outlined mt-4",onClick:o=>a.removeChoice(t)},[s("span",as,[p(u,{icon:"fa-solid fa-trash"})]),cs],8,ls)],64)):_("",!0)]))),128)),s("div",ds,[s("div",null,[s("button",{class:"button is-info mr-2",onClick:e[1]||(e[1]=(...t)=>a.addQuestion&&a.addQuestion(...t))},[s("span",rs,[p(u,{icon:"fa-solid fa-plus"})]),us]),s("button",{class:"button is-danger is-outlined",onClick:e[2]||(e[2]=(...t)=>a.removeQuestion&&a.removeQuestion(...t))},[s("span",hs,[p(u,{icon:"fa-solid fa-trash"})]),_s])]),s("button",{class:"button is-success",onClick:e[3]||(e[3]=(...t)=>a.saveTest&&a.saveTest(...t))},ms)])])}const ys=g(w,[["render",vs]]);export{ys as T};
