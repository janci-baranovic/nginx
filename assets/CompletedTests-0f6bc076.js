import{_ as m,j as _,c as i,i as v,F as r,a as t,l as d,o as a,s as f,t as n,b as T,w as k,h as y,r as u}from"./index-9eece6dd.js";import{L as g}from"./Loader-faea2f20.js";const b={components:{Loader:g},data(){return{activeTestId:null,data:[],activeTitle:"",loading:!1}},mounted(){this.loading=!0;let s="";this.$route.params.user&&(s="/"+this.$route.params.user),_.get("/api/completed"+s).then(l=>{this.data=l.data,this.data.length>0&&(this.activeTitle=this.data[0].title,this.activeTestId=this.data[0].id)}).finally(()=>this.loading=!1)},methods:{setActiveTitle(s){this.activeTitle=s,this.activeTestId=this.data.find(l=>l.title===s).id}},computed:{activeTestAttempts(){const s=this.data.find(l=>l.id===this.activeTestId);return s?s.attempts:[]}}},x={key:1,class:"subtitle"},C={class:"tabs is-centered"},A=["onClick"],B={class:"table is-fullwidth"},I=t("thead",null,[t("th",null,"Pokus"),t("th",null,"Úspešnosť"),t("th",null,"Čas vypravocania"),t("th",null,"Detail")],-1);function w(s,l,L,N,o,c){const h=u("loader"),p=u("router-link");return a(),i("div",null,[o.loading?(a(),v(h,{key:0})):o.data.length?(a(),i(r,{key:2},[t("div",C,[t("ul",null,[(a(!0),i(r,null,d(this.data,e=>(a(),i("li",{key:o.data.id,class:f({"is-active":o.activeTitle===e.title}),onClick:V=>c.setActiveTitle(e.title)},[t("a",null,n(e.title),1)],10,A))),128))])]),t("table",B,[I,t("tbody",null,[(a(!0),i(r,null,d(c.activeTestAttempts,e=>(a(),i("tr",{key:e.id},[t("td",null,n(e.attempt),1),t("td",null,n(e.correct)+" / "+n(e.total),1),t("td",null,n(e.created_at),1),t("td",null,[T(p,{to:{name:"TestAttempt",params:{test:this.activeTitle,attempt:e.attempt,...!!this.$route.params.user&&{user:this.$route.params.user}}},class:"button is-primary is-outlined"},{default:k(()=>[y(" Zobraziť ")]),_:2},1032,["to"])])]))),128))])])],64)):(a(),i("h2",x,"Zatiaľ si nevypracoval žiaden test :("))])}const D=m(b,[["render",w]]);export{D as default};
